Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 10
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	1	assignBarcodes_DAPI
	1	assignBarcodes_polyT
	30	decoding
	1	exportBarcodes
	1	exportFeatures_DAPI
	1	exportFeatures_polyT
	30	extractBarcodes
	1	filterBarcodes
	1	filterBarcodesFeature
	1	filterFeatures
	30	preprocessing
	20	registration
	30	segmentation_DAPI
	30	segmentation_polyT
	1	trainPSM
	180

[Tue Oct  6 21:58:03 2020]
rule segmentation_DAPI:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_6.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_6.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_6.0_DAPI_extract_features.log
    jobid: 75
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=0, zpos=6.0


[Tue Oct  6 21:58:03 2020]
rule segmentation_DAPI:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_2.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_2.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_2.0_DAPI_extract_features.log
    jobid: 89
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=3, zpos=2.0


[Tue Oct  6 21:58:03 2020]
rule segmentation_DAPI:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_1.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_1.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_1.0_DAPI_extract_features.log
    jobid: 82
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=2, zpos=1.0


[Tue Oct  6 21:58:03 2020]
rule segmentation_DAPI:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_3.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_3.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_3.0_DAPI_extract_features.log
    jobid: 96
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=4, zpos=3.0


[Tue Oct  6 21:58:03 2020]
rule segmentation_DAPI:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_4.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_4.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_4.0_DAPI_extract_features.log
    jobid: 91
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=3, zpos=4.0


[Tue Oct  6 21:58:03 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_1.0_registration.log
    jobid: 155
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=4, zpos=1.0


[Tue Oct  6 21:58:03 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_1_zpos_6.0_registration.log
    jobid: 142
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=1, zpos=6.0


[Tue Oct  6 21:58:03 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_1_zpos_2.0_registration.log
    jobid: 138
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=1, zpos=2.0


[Tue Oct  6 21:58:03 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_3.0_registration.log
    jobid: 145
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=2, zpos=3.0


[Tue Oct  6 21:58:03 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_registration.log
    jobid: 156
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=4, zpos=2.0

[Tue Oct  6 21:58:08 2020]
Error in rule segmentation_DAPI:
[Tue Oct  6 21:58:08 2020]
    jobid: 91
[Tue Oct  6 21:58:08 2020]
Error in rule segmentation_DAPI:
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_4.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_4.0_DAPI_extract_features.log
Error in rule segmentation_DAPI:
    jobid: 89
    shell:
        
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder segmentation 			--data-set-name=MERFISH_test/data 			--fov=3 			--zpos=4.0 			--warped-images-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/warpedImages/fov_3_zpos_4.0.tif 			--feature-name=DAPI 			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/segmentedImages/fov_3_zpos_4.0_DAPI.npz 			--diameter=150 			--model-type=nuclei 			--gpu=False  			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_4.0_DAPI_segmentation.log
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder extract-features 			--data-set-name=MERFISH_test/data 			--fov=3 			--zpos=4.0 			--segmented-images-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/segmentedImages/fov_3_zpos_4.0_DAPI.npz 			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/extractedFeatures/fov_3_zpos_4.0_DAPI 			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_4.0_DAPI_extract_features.log
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    jobid: 96
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_2.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_2.0_DAPI_extract_features.log

    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_3.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_3.0_DAPI_extract_features.log
    shell:
        
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder segmentation 			--data-set-name=MERFISH_test/data 			--fov=3 			--zpos=2.0 			--warped-images-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/warpedImages/fov_3_zpos_2.0.tif 			--feature-name=DAPI 			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/segmentedImages/fov_3_zpos_2.0_DAPI.npz 			--diameter=150 			--model-type=nuclei 			--gpu=False  			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_2.0_DAPI_segmentation.log
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder extract-features 			--data-set-name=MERFISH_test/data 			--fov=3 			--zpos=2.0 			--segmented-images-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/segmentedImages/fov_3_zpos_2.0_DAPI.npz 			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/extractedFeatures/fov_3_zpos_2.0_DAPI 			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_2.0_DAPI_extract_features.log
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    shell:
        
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder segmentation 			--data-set-name=MERFISH_test/data 			--fov=4 			--zpos=3.0 			--warped-images-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/warpedImages/fov_4_zpos_3.0.tif 			--feature-name=DAPI 			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/segmentedImages/fov_4_zpos_3.0_DAPI.npz 			--diameter=150 			--model-type=nuclei 			--gpu=False  			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_3.0_DAPI_segmentation.log
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder extract-features 			--data-set-name=MERFISH_test/data 			--fov=4 			--zpos=3.0 			--segmented-images-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/segmentedImages/fov_4_zpos_3.0_DAPI.npz 			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/extractedFeatures/fov_4_zpos_3.0_DAPI 			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_3.0_DAPI_extract_features.log
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)


Removing output files of failed job segmentation_DAPI since they might be corrupted:
/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_4.0_DAPI_segmentation.log
[Tue Oct  6 21:58:09 2020]
Error in rule segmentation_DAPI:
    jobid: 75
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_6.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_6.0_DAPI_extract_features.log
    shell:
        
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder segmentation 			--data-set-name=MERFISH_test/data 			--fov=0 			--zpos=6.0 			--warped-images-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/warpedImages/fov_0_zpos_6.0.tif 			--feature-name=DAPI 			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/segmentedImages/fov_0_zpos_6.0_DAPI.npz 			--diameter=150 			--model-type=nuclei 			--gpu=False  			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_6.0_DAPI_segmentation.log
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder extract-features 			--data-set-name=MERFISH_test/data 			--fov=0 			--zpos=6.0 			--segmented-images-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/segmentedImages/fov_0_zpos_6.0_DAPI.npz 			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/extractedFeatures/fov_0_zpos_6.0_DAPI 			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_6.0_DAPI_extract_features.log
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job segmentation_DAPI since they might be corrupted:
/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_2.0_DAPI_segmentation.log
Removing output files of failed job segmentation_DAPI since they might be corrupted:
/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_3.0_DAPI_segmentation.log
Removing output files of failed job segmentation_DAPI since they might be corrupted:
/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_6.0_DAPI_segmentation.log
Terminating processes on user request, this might take some time.
[Tue Oct  6 21:58:13 2020]
[Tue Oct  6 21:58:13 2020]
Error in rule registration:
Error in rule registration:
    jobid: 142
    jobid: 145
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_1_zpos_6.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_3.0_registration.log
    shell:
        
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder register-images 			--data-set-name=MERFISH_test/data 			--fov=1 			--zpos=6.0  			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/warpedImages/fov_1_zpos_6.0.tif 			--register-drift=True 			--ref-frame-index=0 			--high-pass-filter-sigma=3 			--register-color=True 			--save-fiducials=False 			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_1_zpos_6.0_registration.log
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    shell:
        
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder register-images 			--data-set-name=MERFISH_test/data 			--fov=2 			--zpos=3.0  			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/warpedImages/fov_2_zpos_3.0.tif 			--register-drift=True 			--ref-frame-index=0 			--high-pass-filter-sigma=3 			--register-color=True 			--save-fiducials=False 			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_3.0_registration.log
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)


[Tue Oct  6 21:58:13 2020]
Error in rule registration:
    jobid: 155
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_1.0_registration.log
    shell:
        
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder register-images 			--data-set-name=MERFISH_test/data 			--fov=4 			--zpos=1.0  			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/warpedImages/fov_4_zpos_1.0.tif 			--register-drift=True 			--ref-frame-index=0 			--high-pass-filter-sigma=3 			--register-color=True 			--save-fiducials=False 			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_1.0_registration.log
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Tue Oct  6 21:58:13 2020]
[Tue Oct  6 21:58:13 2020]
Error in rule registration:
Error in rule registration:
    jobid: 156
    jobid: 138
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_1_zpos_2.0_registration.log
    shell:
        
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder register-images 			--data-set-name=MERFISH_test/data 			--fov=4 			--zpos=2.0  			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/warpedImages/fov_4_zpos_2.0.tif 			--register-drift=True 			--ref-frame-index=0 			--high-pass-filter-sigma=3 			--register-color=True 			--save-fiducials=False 			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_registration.log
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    shell:
        
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder register-images 			--data-set-name=MERFISH_test/data 			--fov=1 			--zpos=2.0  			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/warpedImages/fov_1_zpos_2.0.tif 			--register-drift=True 			--ref-frame-index=0 			--high-pass-filter-sigma=3 			--register-color=True 			--save-fiducials=False 			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_1_zpos_2.0_registration.log
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)


Removing output files of failed job registration since they might be corrupted:
/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_1_zpos_6.0_registration.log
Removing output files of failed job registration since they might be corrupted:
/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_3.0_registration.log
Removing output files of failed job registration since they might be corrupted:
/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_1.0_registration.log
Removing output files of failed job registration since they might be corrupted:
/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_registration.log
Removing output files of failed job registration since they might be corrupted:
/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_1_zpos_2.0_registration.log
Cancelling snakemake on user request.
