Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 10
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	1	assignBarcodes_DAPI
	1	assignBarcodes_polyT
	1	createAnalysis
	30	decoding
	1	exportBarcodes
	1	exportFeatures_DAPI
	1	exportFeatures_polyT
	30	extractBarcodes
	1	filterBarcodes
	1	filterBarcodesFeature
	1	filterFeatures
	30	preprocessing
	30	registration
	30	segmentation_DAPI
	30	segmentation_polyT
	1	trainPSM
	191

[Tue Oct  6 22:04:44 2020]
localrule createAnalysis:
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    jobid: 1
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data

[Tue Oct  6 22:04:45 2020]
Finished job 1.
1 of 191 steps (0.52%) done

[Tue Oct  6 22:04:45 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_5.0_registration.log
    jobid: 153
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=3, zpos=5.0


[Tue Oct  6 22:04:45 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_6.0_registration.log
    jobid: 160
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=4, zpos=6.0


[Tue Oct  6 22:04:45 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_1.0_registration.log
    jobid: 143
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=2, zpos=1.0


[Tue Oct  6 22:04:45 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_6.0_registration.log
    jobid: 136
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=0, zpos=6.0


[Tue Oct  6 22:04:45 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_2.0_registration.log
    jobid: 150
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=3, zpos=2.0


[Tue Oct  6 22:04:45 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_3.0_registration.log
    jobid: 157
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=4, zpos=3.0


[Tue Oct  6 22:04:45 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_1_zpos_4.0_registration.log
    jobid: 140
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=1, zpos=4.0


[Tue Oct  6 22:04:45 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_registration.log
    jobid: 156
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=4, zpos=2.0


[Tue Oct  6 22:04:45 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_5.0_registration.log
    jobid: 135
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=0, zpos=5.0


[Tue Oct  6 22:04:45 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_1.0_registration.log
    jobid: 149
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=3, zpos=1.0

[Tue Oct  6 22:07:10 2020]
Finished job 149.
2 of 191 steps (1%) done

[Tue Oct  6 22:07:10 2020]
rule preprocessing:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_1.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_1.0_processing.log
    jobid: 179
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=3, zpos=1.0

[Tue Oct  6 22:07:17 2020]
Finished job 156.
3 of 191 steps (2%) done

[Tue Oct  6 22:07:17 2020]
rule preprocessing:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_processing.log
    jobid: 186
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=4, zpos=2.0

[Tue Oct  6 22:07:23 2020]
Finished job 143.
4 of 191 steps (2%) done
[Tue Oct  6 22:07:24 2020]
Finished job 153.
5 of 191 steps (3%) done

[Tue Oct  6 22:07:24 2020]
rule segmentation_polyT:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_5.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_5.0_polyT_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_5.0_polyT_extract_features.log
    jobid: 62
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=3, zpos=5.0


[Tue Oct  6 22:07:25 2020]
rule segmentation_polyT:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_1.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_1.0_polyT_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_1.0_polyT_extract_features.log
    jobid: 58
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=3, zpos=1.0

[Tue Oct  6 22:07:26 2020]
Finished job 157.
6 of 191 steps (3%) done

[Tue Oct  6 22:07:26 2020]
rule preprocessing:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_5.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_5.0_processing.log
    jobid: 183
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=3, zpos=5.0

[Tue Oct  6 22:07:27 2020]
Finished job 150.
7 of 191 steps (4%) done

[Tue Oct  6 22:07:27 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_1_zpos_2.0_registration.log
    jobid: 138
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=1, zpos=2.0

[Tue Oct  6 22:07:29 2020]
Finished job 140.
8 of 191 steps (4%) done
[Tue Oct  6 22:07:29 2020]
Finished job 160.
9 of 191 steps (5%) done
[Tue Oct  6 22:07:29 2020]
Finished job 135.
10 of 191 steps (5%) done
[Tue Oct  6 22:07:29 2020]
Finished job 136.
11 of 191 steps (6%) done

[Tue Oct  6 22:07:29 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_2.0_registration.log
    jobid: 132
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=0, zpos=2.0


[Tue Oct  6 22:07:29 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_3.0_registration.log
    jobid: 145
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=2, zpos=3.0


[Tue Oct  6 22:07:29 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_4.0_registration.log
    jobid: 152
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=3, zpos=4.0


[Tue Oct  6 22:07:30 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_5.0_registration.log
    jobid: 159
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=4, zpos=5.0

[Tue Oct  6 22:08:18 2020]
Finished job 186.
12 of 191 steps (6%) done

[Tue Oct  6 22:08:19 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_6.0_registration.log
    jobid: 148
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=2, zpos=6.0

[Tue Oct  6 22:08:19 2020]
Finished job 179.
13 of 191 steps (7%) done

[Tue Oct  6 22:08:19 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_4.0_registration.log
    jobid: 134
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=0, zpos=4.0

[Tue Oct  6 22:08:27 2020]
Finished job 183.
14 of 191 steps (7%) done

[Tue Oct  6 22:08:27 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_1_zpos_5.0_registration.log
    jobid: 141
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=1, zpos=5.0

[Tue Oct  6 22:08:52 2020]
Finished job 58.
15 of 191 steps (8%) done

[Tue Oct  6 22:08:52 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_1.0_registration.log
    jobid: 155
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=4, zpos=1.0

[Tue Oct  6 22:09:08 2020]
Finished job 62.
16 of 191 steps (8%) done

[Tue Oct  6 22:09:08 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_1.0_registration.log
    jobid: 131
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=0, zpos=1.0

[Tue Oct  6 22:09:28 2020]
Finished job 152.
17 of 191 steps (9%) done

[Tue Oct  6 22:09:28 2020]
rule registration:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/create_analysis.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_1_zpos_3.0_registration.log
    jobid: 139
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=1, zpos=3.0

[Tue Oct  6 22:09:31 2020]
Finished job 159.
18 of 191 steps (9%) done

[Tue Oct  6 22:09:31 2020]
rule segmentation_DAPI:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_DAPI_extract_features.log
    jobid: 95
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=4, zpos=2.0

[Tue Oct  6 22:09:31 2020]
Finished job 145.
19 of 191 steps (10%) done

[Tue Oct  6 22:09:32 2020]
rule segmentation_DAPI:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_6.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_6.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_0_zpos_6.0_DAPI_extract_features.log
    jobid: 75
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=0, zpos=6.0

[Tue Oct  6 22:09:35 2020]
Finished job 138.
20 of 191 steps (10%) done

[Tue Oct  6 22:09:35 2020]
rule segmentation_DAPI:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_2.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_2.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_3_zpos_2.0_DAPI_extract_features.log
    jobid: 89
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=3, zpos=2.0

[Tue Oct  6 22:09:35 2020]
Finished job 132.
21 of 191 steps (11%) done

[Tue Oct  6 22:09:35 2020]
rule segmentation_DAPI:
    input: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_1.0_registration.log
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_1.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_2_zpos_1.0_DAPI_extract_features.log
    jobid: 82
    wildcards: analysisPath=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data, fov=2, zpos=1.0

[Tue Oct  6 22:09:36 2020]
Error in rule segmentation_DAPI:
    jobid: 95
    output: /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_DAPI_segmentation.log, /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_DAPI_extract_features.log
    shell:
        
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder segmentation 			--data-set-name=MERFISH_test/data 			--fov=4 			--zpos=2.0 			--warped-images-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/warpedImages/fov_4_zpos_2.0.tif 			--feature-name=DAPI 			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/segmentedImages/fov_4_zpos_2.0_DAPI.npz 			--diameter=150 			--model-type=nuclei 			--gpu=False  			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_DAPI_segmentation.log
		python /home/rfang/github/merfishdecoder/bin/merfishdecoder extract-features 			--data-set-name=MERFISH_test/data 			--fov=4 			--zpos=2.0 			--segmented-images-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/segmentedImages/fov_4_zpos_2.0_DAPI.npz 			--output-name=/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/extractedFeatures/fov_4_zpos_2.0_DAPI 			> /mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_DAPI_extract_features.log
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job segmentation_DAPI since they might be corrupted:
/mnt/NAS/Fang/Analysis/MERFISH/merfish_analysis/MERFISH_test/data/logs/fov_4_zpos_2.0_DAPI_segmentation.log
[Tue Oct  6 22:10:05 2020]
Finished job 148.
22 of 191 steps (12%) done
[Tue Oct  6 22:10:12 2020]
Finished job 134.
23 of 191 steps (12%) done
[Tue Oct  6 22:10:18 2020]
Finished job 82.
24 of 191 steps (13%) done
[Tue Oct  6 22:10:23 2020]
Finished job 141.
25 of 191 steps (13%) done
[Tue Oct  6 22:10:28 2020]
Finished job 89.
26 of 191 steps (14%) done
[Tue Oct  6 22:10:32 2020]
Finished job 75.
27 of 191 steps (14%) done
[Tue Oct  6 22:10:41 2020]
Finished job 155.
28 of 191 steps (15%) done
[Tue Oct  6 22:10:56 2020]
Finished job 131.
29 of 191 steps (15%) done
[Tue Oct  6 22:11:20 2020]
Finished job 139.
30 of 191 steps (16%) done
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /home/rfang/github/merfishdecoder/merfish-parameters/snakemake/.snakemake/log/2020-10-06T220444.050094.snakemake.log
